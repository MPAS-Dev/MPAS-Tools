

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mesh Conversion &mdash; mpas_tools 0.0.12 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Making Changes to mpas_tools" href="making_changes.html" />
    <link rel="prev" title="Mesh Creation" href="mesh_creation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> mpas_tools
          

          
          </a>

          
            
            
              <div class="version">
                0.0.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mesh_creation.html">Mesh Creation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Mesh Conversion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mesh-converter">Mesh Converter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cell-culler">Cell Culler</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mask-creator">Mask Creator</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="making_changes.html">Making Changes to mpas_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_changes.html">Testing Changes to mpas_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Main Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html#contributors">Contributors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mpas_tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Mesh Conversion</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mesh_conversion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mesh-conversion">
<span id="id1"></span><h1>Mesh Conversion<a class="headerlink" href="#mesh-conversion" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mesh-converter">
<h2>Mesh Converter<a class="headerlink" href="#mesh-converter" title="Permalink to this headline">¶</a></h2>
<p>The command-line tool <code class="docutils literal notranslate"><span class="pre">MpasMeshConverter.x</span></code> and the corresponding wrapper
function <a class="reference internal" href="generated/mpas_tools.mesh.conversion.convert.html#mpas_tools.mesh.conversion.convert" title="mpas_tools.mesh.conversion.convert"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.conversion.convert()</span></code></a> are used to convert a
dataset describing cell locations, vertex locations, and connectivity between
cells and vertices into a valid MPAS mesh following the <a class="reference external" href="https://mpas-dev.github.io/files/documents/MPAS-MeshSpec.pdf">MPAS mesh specification</a>.</p>
<p>Example call to the command-line tool:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ planar_hex --nx 4 --ny 4 --dc 10e3 -o base_mesh.nc
$ MpasMeshConverter.x base_mesh.nc mesh.nc
</pre></div>
</div>
<p>This example uses the <code class="docutils literal notranslate"><span class="pre">planar_hex</span></code> tool to generate a small, doubly periodic
MPAS mesh with 10-km cells, then uses the MPAS mesh converter to make sure the
resulting mesh adheres to the mesh specification.  <code class="docutils literal notranslate"><span class="pre">MpasMeshConverter.x</span></code> takes
two arguments, the input and output mesh files, and will prompt the user for
file names if these arguments are not supplied.</p>
<p>The same example in a python script can be accomplished with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpas_tools.planar_hex</span> <span class="kn">import</span> <span class="n">make_planar_hex_mesh</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.conversion</span> <span class="kn">import</span> <span class="n">convert</span>
<span class="kn">from</span> <span class="nn">mpas_tools.io</span> <span class="kn">import</span> <span class="n">write_netcdf</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">make_planar_hex_mesh</span><span class="p">(</span><span class="n">nx</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ny</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">dc</span><span class="o">=</span><span class="mf">10e3</span><span class="p">,</span> <span class="n">nonperiodic_x</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                          <span class="n">nonperiodic_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">write_netcdf</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s1">&#39;mesh.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Regardless of which of these methods is used, the input mesh must define the
following dimensions, variables and global attributes (not the dimension sizes
are merely examples from the mesh generated in the previous examples):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">netcdf</span> <span class="n">mesh</span> <span class="p">{</span>
<span class="n">dimensions</span><span class="p">:</span>
  <span class="n">nCells</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">;</span>
  <span class="n">nVertices</span> <span class="o">=</span> <span class="mi">32</span> <span class="p">;</span>
  <span class="n">vertexDegree</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">;</span>
<span class="n">variables</span><span class="p">:</span>
  <span class="n">double</span> <span class="n">xCell</span><span class="p">(</span><span class="n">nCells</span><span class="p">)</span> <span class="p">;</span>
  <span class="n">double</span> <span class="n">yCell</span><span class="p">(</span><span class="n">nCells</span><span class="p">)</span> <span class="p">;</span>
  <span class="n">double</span> <span class="n">zCell</span><span class="p">(</span><span class="n">nCells</span><span class="p">)</span> <span class="p">;</span>
  <span class="n">double</span> <span class="n">xVertex</span><span class="p">(</span><span class="n">nVertices</span><span class="p">)</span> <span class="p">;</span>
  <span class="n">double</span> <span class="n">yVertex</span><span class="p">(</span><span class="n">nVertices</span><span class="p">)</span> <span class="p">;</span>
  <span class="n">double</span> <span class="n">zVertex</span><span class="p">(</span><span class="n">nVertices</span><span class="p">)</span> <span class="p">;</span>
  <span class="nb">int</span> <span class="n">cellsOnVertex</span><span class="p">(</span><span class="n">nVertices</span><span class="p">,</span> <span class="n">vertexDegree</span><span class="p">)</span> <span class="p">;</span>
  <span class="n">double</span> <span class="n">meshDensity</span><span class="p">(</span><span class="n">nCells</span><span class="p">)</span> <span class="p">;</span>

<span class="o">//</span> <span class="k">global</span> <span class="n">attributes</span><span class="p">:</span>
      <span class="p">:</span><span class="n">on_a_sphere</span> <span class="o">=</span> <span class="s2">&quot;NO&quot;</span> <span class="p">;</span>
      <span class="p">:</span><span class="n">sphere_radius</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">;</span>
      <span class="p">:</span><span class="n">is_periodic</span> <span class="o">=</span> <span class="s2">&quot;YES&quot;</span> <span class="p">;</span>
</pre></div>
</div>
<p>The variable <code class="docutils literal notranslate"><span class="pre">meshDensity</span></code> is required for historical reasons and is passed
unchanged to the resulting mesh.  It can contain all ones (or zeros), the
resolution of the mesh in kilometers, or whatever field the user wishes.</p>
<p>The following global attributes are optional but will be passed on to the
resulting mesh:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="k">global</span> <span class="n">attributes</span><span class="p">:</span>
      <span class="p">:</span><span class="n">x_period</span> <span class="o">=</span> <span class="mf">40000.</span> <span class="p">;</span>
      <span class="p">:</span><span class="n">y_period</span> <span class="o">=</span> <span class="mf">34641.0161513775</span> <span class="p">;</span>
      <span class="p">:</span><span class="n">history</span> <span class="o">=</span> <span class="s2">&quot;Tue May 26 20:58:10 2020: /home/xylar/miniconda3/envs/mpas/bin/planar_hex --nx 4 --ny 4 --dc 10e3 -o base_mesh.nc&quot;</span> <span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">file_id</span></code> global attribute is also optional and is preserved in the
resulting mesh as <code class="docutils literal notranslate"><span class="pre">parent_id</span></code>.  A new <code class="docutils literal notranslate"><span class="pre">file_id</span></code> (a random hash tag) is
generated by the mesh converter.</p>
<p>The resulting dataset has all the dimensions and variables required for an MPAS
mesh.</p>
<p>The mesh converter also generates a file called <code class="docutils literal notranslate"><span class="pre">graph.info</span></code> that is used to
create graph partitions from tools like <a class="reference external" href="http://glaros.dtc.umn.edu/gkhome/views/metis">Metis</a>.  This file is not stored by
default when the python <code class="docutils literal notranslate"><span class="pre">cull</span></code> function is used but can be specified with
the <code class="docutils literal notranslate"><span class="pre">graphInfoFileName</span></code> argument.  The python function also takes a <code class="docutils literal notranslate"><span class="pre">logger</span></code>
that can be used to capture the output that would otherwise go to the screen
via <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p>
</div>
<div class="section" id="cell-culler">
<h2>Cell Culler<a class="headerlink" href="#cell-culler" title="Permalink to this headline">¶</a></h2>
<p>The command-line tool <code class="docutils literal notranslate"><span class="pre">MpasCellCuller.x</span></code> and the corresponding wrapper
function <a class="reference internal" href="generated/mpas_tools.mesh.conversion.cull.html#mpas_tools.mesh.conversion.cull" title="mpas_tools.mesh.conversion.cull"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.conversion.cull()</span></code></a> are used to cull cells from
a mesh based on the <code class="docutils literal notranslate"><span class="pre">cullCell</span></code> field in the input dataset and/or the provided
masks. The contents of the <code class="docutils literal notranslate"><span class="pre">cullCell</span></code> field is merge with the mask(s) from a
masking dataset and the inverse of the mask(s) from an inverse-masking dataset.
Then, a preserve-masking dataset is used to determine where cells should <em>not</em>
be culled.</p>
<p>Example call to the command-line tool, assuming you start with a spherical mesh
called <code class="docutils literal notranslate"><span class="pre">base_mesh.nc</span></code> (not the doubly periodic planar mesh from the examples
above):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ merge_features -c natural_earth -b region -n &quot;Land Coverage&quot; -o land.geojson
$ MpasMaskCreator.x base_mesh.nc land.nc -f land.geojson
$ MpasCellCuller.x base_mesh.nc culled_mesh.nc -m land.nc
</pre></div>
</div>
<p>This example uses the <code class="docutils literal notranslate"><span class="pre">merge_features</span></code> tool from the <code class="docutils literal notranslate"><span class="pre">geometric_features</span></code>
conda package to get a geojson file containing land coverage.  Then, it uses
the mask creator (see the next section) to create a mask on the MPAS mesh that
is one inside this region and zero outside.  Finally, it culls the base mesh
to only those cells where the mask is zero (i.e. the mask indicates which cells
are to be removed).</p>
<p>The same example in a python script can be accomplished with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="kn">from</span> <span class="nn">geometric_features</span> <span class="kn">import</span> <span class="n">GeometricFeatures</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.conversion</span> <span class="kn">import</span> <span class="n">mask</span><span class="p">,</span> <span class="n">cull</span>

<span class="n">gf</span> <span class="o">=</span> <span class="n">GeometricFeatures</span><span class="p">()</span>

<span class="n">fcLandCoverage</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">componentName</span><span class="o">=</span><span class="s1">&#39;natural_earth&#39;</span><span class="p">,</span> <span class="n">objectType</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">,</span>
                         <span class="n">featureNames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Land Coverage&#39;</span><span class="p">])</span>

<span class="n">dsBaseMesh</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s1">&#39;base_mesh.nc&#39;</span><span class="p">)</span>
<span class="n">dsLandMask</span> <span class="o">=</span> <span class="n">mask</span><span class="p">(</span><span class="n">dsBaseMesh</span><span class="p">,</span> <span class="n">fcMask</span><span class="o">=</span><span class="n">fcLandCoverage</span><span class="p">)</span>
<span class="n">dsCulledMesh</span> <span class="o">=</span> <span class="n">conversion</span><span class="o">.</span><span class="n">cull</span><span class="p">(</span><span class="n">dsBaseMesh</span><span class="p">,</span> <span class="n">dsMask</span><span class="o">=</span><span class="n">dsLandMask</span><span class="p">)</span>
<span class="n">write_netcdf</span><span class="p">(</span><span class="n">dsCulledMesh</span><span class="p">,</span> <span class="s1">&#39;culled_mesh.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is the full usage of <code class="docutils literal notranslate"><span class="pre">MpasCellCuller.x</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MpasCellCuller</span><span class="o">.</span><span class="n">x</span> <span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="p">[</span><span class="n">output_name</span><span class="p">]</span> <span class="p">[[</span><span class="o">-</span><span class="n">m</span><span class="o">/-</span><span class="n">i</span><span class="o">/-</span><span class="n">p</span><span class="p">]</span> <span class="n">masks_name</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span><span class="p">]</span>

    <span class="n">input_name</span><span class="p">:</span>
        <span class="n">This</span> <span class="n">argument</span> <span class="n">specifies</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">MPAS</span> <span class="n">mesh</span><span class="o">.</span>
    <span class="n">output_name</span><span class="p">:</span>
        <span class="n">This</span> <span class="n">argument</span> <span class="n">specifies</span> <span class="n">the</span> <span class="n">output</span> <span class="n">culled</span> <span class="n">MPAS</span> <span class="n">mesh</span><span class="o">.</span>
        <span class="n">If</span> <span class="ow">not</span> <span class="n">specified</span><span class="p">,</span> <span class="n">it</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">culled_mesh</span><span class="o">.</span><span class="n">nc</span><span class="p">,</span> <span class="n">but</span>
        <span class="n">it</span> <span class="ow">is</span> <span class="n">required</span> <span class="k">if</span> <span class="n">additional</span> <span class="n">arguments</span> <span class="n">are</span> <span class="n">specified</span><span class="o">.</span>
    <span class="o">-</span><span class="n">m</span><span class="o">/-</span><span class="n">i</span><span class="o">/-</span><span class="n">p</span><span class="p">:</span>
        <span class="n">These</span> <span class="n">arguments</span> <span class="n">control</span> <span class="n">how</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">masks</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">when</span>
        <span class="n">culling</span> <span class="n">a</span> <span class="n">mesh</span><span class="o">.</span>
        <span class="n">The</span> <span class="o">-</span><span class="n">m</span> <span class="n">argument</span> <span class="n">applies</span> <span class="n">a</span> <span class="n">mask</span> <span class="n">to</span> <span class="n">cull</span> <span class="n">based</span> <span class="n">on</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span>
        <span class="n">where</span> <span class="n">the</span> <span class="n">mask</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">,</span> <span class="n">the</span> <span class="n">mesh</span> <span class="n">will</span> <span class="n">be</span> <span class="n">culled</span><span class="p">)</span><span class="o">.</span>
        <span class="n">The</span> <span class="o">-</span><span class="n">i</span> <span class="n">argument</span> <span class="n">applies</span> <span class="n">the</span> <span class="n">inverse</span> <span class="n">mask</span> <span class="n">to</span> <span class="n">cull</span> <span class="n">based</span>
        <span class="n">on</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">where</span> <span class="n">the</span> <span class="n">mask</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">,</span> <span class="n">the</span> <span class="n">mesh</span> <span class="n">will</span> <span class="n">be</span>
        <span class="n">culled</span><span class="p">)</span><span class="o">.</span>
        <span class="n">The</span> <span class="o">-</span><span class="n">p</span> <span class="n">argument</span> <span class="n">forces</span> <span class="nb">any</span> <span class="n">marked</span> <span class="n">cells</span> <span class="n">to</span> <span class="ow">not</span> <span class="n">be</span>
        <span class="n">culled</span><span class="o">.</span>
        <span class="n">If</span> <span class="n">this</span> <span class="n">argument</span> <span class="ow">is</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">masks_name</span> <span class="n">argument</span>
        <span class="ow">is</span> <span class="n">required</span>
    <span class="o">-</span><span class="n">c</span><span class="p">:</span>
        <span class="n">Output</span> <span class="n">the</span> <span class="n">mapping</span> <span class="kn">from</span> <span class="nn">old</span> <span class="n">to</span> <span class="n">new</span> <span class="n">mesh</span> <span class="p">(</span><span class="n">cellMap</span><span class="p">)</span> <span class="ow">in</span>
            <span class="n">cellMapForward</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span>
        <span class="ow">and</span> <span class="n">output</span> <span class="n">the</span> <span class="n">reverse</span> <span class="n">mapping</span> <span class="kn">from</span> <span class="nn">new</span> <span class="n">to</span> <span class="n">old</span> <span class="n">mesh</span> <span class="ow">in</span>
            <span class="n">cellMapBackward</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-creator">
<h2>Mask Creator<a class="headerlink" href="#mask-creator" title="Permalink to this headline">¶</a></h2>
<p>The command-line tool <code class="docutils literal notranslate"><span class="pre">MpasMaskCreator.x</span></code> and the corresponding wrapper
function <a class="reference internal" href="generated/mpas_tools.mesh.conversion.mask.html#mpas_tools.mesh.conversion.mask" title="mpas_tools.mesh.conversion.mask"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.conversion.mask()</span></code></a> are used to create a set of
region masks either from mask features or from seed points to be used to flood
fill a contiguous block of cells.</p>
<p>Examples usage of the mask creator can be found above under the Cell Culler.</p>
<p>Here is the full usage of <code class="docutils literal notranslate"><span class="pre">MpasMaskCreator.x</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MpasMaskCreator</span><span class="o">.</span><span class="n">x</span> <span class="n">in_file</span> <span class="n">out_file</span> <span class="p">[</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span><span class="o">/-</span><span class="n">s</span><span class="p">]</span> <span class="n">file</span><span class="o">.</span><span class="n">geojson</span> <span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">positive_lon</span><span class="p">]</span>
    <span class="n">in_file</span><span class="p">:</span> <span class="n">This</span> <span class="n">argument</span> <span class="n">defines</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">file</span> <span class="n">that</span> <span class="n">masks</span> <span class="n">will</span> <span class="n">be</span> <span class="n">created</span> <span class="k">for</span><span class="o">.</span>
    <span class="n">out_file</span><span class="p">:</span> <span class="n">This</span> <span class="n">argument</span> <span class="n">defines</span> <span class="n">the</span> <span class="n">file</span> <span class="n">that</span> <span class="n">masks</span> <span class="n">will</span> <span class="n">be</span> <span class="n">written</span> <span class="n">to</span><span class="o">.</span>
    <span class="o">-</span><span class="n">s</span> <span class="n">file</span><span class="o">.</span><span class="n">geojson</span><span class="p">:</span> <span class="n">This</span> <span class="n">argument</span> <span class="n">pair</span> <span class="n">defines</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">points</span> <span class="p">(</span><span class="kn">from</span> <span class="nn">the</span> <span class="n">geojson</span> <span class="n">point</span> <span class="n">definition</span><span class="p">)</span>
        <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="k">as</span> <span class="n">seed</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">flood</span> <span class="n">fill</span> <span class="n">algorithim</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">useful</span> <span class="n">when</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">isolated</span> <span class="n">cells</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">mesh</span><span class="o">.</span>
    <span class="o">-</span><span class="n">f</span> <span class="n">file</span><span class="o">.</span><span class="n">geojson</span><span class="p">:</span> <span class="n">This</span> <span class="n">argument</span> <span class="n">pair</span> <span class="n">defines</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">geojson</span> <span class="n">features</span> <span class="p">(</span><span class="n">regions</span><span class="p">,</span> <span class="n">transects</span><span class="p">,</span> <span class="ow">or</span> <span class="n">points</span><span class="p">)</span>
        <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">converted</span> <span class="n">into</span> <span class="n">masks</span> <span class="o">/</span> <span class="n">lists</span><span class="o">.</span>
    <span class="o">--</span><span class="n">positive_lon</span><span class="p">:</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">unlikely</span> <span class="n">that</span> <span class="n">you</span> <span class="n">want</span> <span class="n">this</span> <span class="n">argument</span><span class="o">.</span>  <span class="n">In</span> <span class="n">rare</span> <span class="n">cases</span> <span class="n">when</span> <span class="n">using</span> <span class="n">a</span> <span class="n">non</span><span class="o">-</span><span class="n">standard</span> <span class="n">geojson</span>
        <span class="n">file</span> <span class="n">where</span> <span class="n">the</span> <span class="n">logitude</span> <span class="n">ranges</span> <span class="kn">from</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">360</span> <span class="n">degrees</span> <span class="p">(</span><span class="k">with</span> <span class="n">the</span> <span class="n">prime</span> <span class="n">meridian</span> <span class="n">at</span> <span class="mi">0</span> <span class="n">degrees</span><span class="p">),</span> <span class="n">use</span> <span class="n">this</span> <span class="n">flag</span><span class="o">.</span>
        <span class="n">If</span> <span class="n">this</span> <span class="n">flag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">,</span> <span class="n">the</span> <span class="n">logitude</span> <span class="nb">range</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">180</span><span class="o">-</span><span class="mi">180</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">degrees</span> <span class="n">being</span> <span class="n">the</span> <span class="n">prime</span> <span class="n">meridian</span><span class="p">,</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">the</span>
        <span class="n">case</span> <span class="k">for</span> <span class="n">standar</span> <span class="n">geojson</span> <span class="n">files</span> <span class="n">including</span> <span class="nb">all</span> <span class="n">features</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">geometric_feature</span> <span class="n">repo</span><span class="o">.</span>
        <span class="n">The</span> <span class="n">fact</span> <span class="n">that</span> <span class="n">longitudes</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">MPAS</span> <span class="n">mesh</span> <span class="nb">range</span> <span class="kn">from</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">360</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">relevant</span> <span class="n">to</span> <span class="n">this</span> <span class="n">flag</span><span class="p">,</span>
        <span class="k">as</span> <span class="n">latitude</span> <span class="ow">and</span> <span class="n">longitude</span> <span class="n">are</span> <span class="n">recomputed</span> <span class="n">internally</span> <span class="kn">from</span> <span class="nn">Cartesian</span> <span class="n">coordinates</span><span class="o">.</span>
        <span class="n">Whether</span> <span class="n">this</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">passed</span> <span class="ow">in</span> <span class="ow">or</span> <span class="ow">not</span><span class="p">,</span> <span class="nb">any</span> <span class="n">longitudes</span> <span class="n">written</span> <span class="n">are</span> <span class="ow">in</span> <span class="n">the</span> <span class="mi">0</span><span class="o">-</span><span class="mi">360</span> <span class="nb">range</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="making_changes.html" class="btn btn-neutral float-right" title="Making Changes to mpas_tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mesh_creation.html" class="btn btn-neutral float-left" title="Mesh Creation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright This software is open source software available under the BSD-3license. Copyright (c) 2019 Triad National Security, LLC. All rights reserved. Copyright (c) 2019 Lawrence Livermore National Security, LLC. All rights reserved. Copyright (c) 2019 UT-Battelle, LLC. All rights reserved.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>