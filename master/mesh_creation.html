

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mesh Creation &mdash; mpas_tools 0.36.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5864e6e0"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mesh Conversion" href="mesh_conversion.html" />
    <link rel="prev" title="MPAS-Tools" href="index.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            mpas_tools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User's Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Mesh Creation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#uniform-planar-meshes">Uniform, Planar Meshes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-a-jigsaw-mesh">Building a JIGSAW Mesh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spherical-meshes">Spherical Meshes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#planar-meshes">Planar Meshes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jigsaw-driver">JIGSAW Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-definition-tools">Mesh Definition Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#merging-cell-widths">Merging Cell Widths</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defining-an-eddy-closure-mesh">Defining an Eddy-closure Mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defining-a-rossby-radius-mesh">Defining a Rossby-radius Mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defining-an-atlantic-pacific-mesh">Defining an Atlantic/Pacific Mesh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#signed-distance-functions">Signed Distance Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mesh_conversion.html">Mesh Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation.html">Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cime.html">CIME Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Config files</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="transects.html">Transects</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector.html">Vector Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Landice Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="landice/visualization.html">Visualization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ocean Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ocean/mesh_creation.html">Ocean Mesh Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocean/coastal_tools.html">Coastal Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocean/coastline_alteration.html">Coastline Alteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocean/moc.html">Meridional Overturning Circulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocean/depth.html">Adding a Depth Coordinate</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocean/streamfunction.html">Computing streamfunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocean/visualization.html">Visualization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sea-ice Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="seaice/mask.html">Mask</a></li>
<li class="toctree-l1"><a class="reference internal" href="seaice/mesh.html">Mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="seaice/partition.html">Graph partitioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="seaice/regions.html">Region masks</a></li>
<li class="toctree-l1"><a class="reference internal" href="seaice/regrid.html">Regrid</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="making_changes.html">Making Changes to mpas_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_changes.html">Testing Changes to mpas_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Authors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Main Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html#contributors">Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mpas_tools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Mesh Creation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/mesh_creation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="mesh-creation"></span><section id="id1">
<h1>Mesh Creation<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<section id="uniform-planar-meshes">
<h2>Uniform, Planar Meshes<a class="headerlink" href="#uniform-planar-meshes" title="Link to this heading"></a></h2>
<p>The most basic tool for creating an MPAS mesh is the function
<a class="reference internal" href="generated/mpas_tools.planar_hex.make_planar_hex_mesh.html#mpas_tools.planar_hex.make_planar_hex_mesh" title="mpas_tools.planar_hex.make_planar_hex_mesh"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.planar_hex.make_planar_hex_mesh()</span></code></a> or the associated
command-line tool <code class="docutils literal notranslate"><span class="pre">planar_hex</span></code>.  These tools create a uniform, planar mesh
of hexagons that may optionally be periodic in either or both of the x and
y directions.  A typical call to <code class="docutils literal notranslate"><span class="pre">make_planar_hex_mesh()</span></code> might look like
the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpas_tools.planar_hex</span> <span class="kn">import</span> <span class="n">make_planar_hex_mesh</span>

<span class="n">dsMesh</span> <span class="o">=</span> <span class="n">make_planar_hex_mesh</span><span class="p">(</span><span class="n">nx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ny</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">dc</span><span class="o">=</span><span class="mf">1000.</span><span class="p">,</span> <span class="n">nonperiodic_x</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                              <span class="n">nonperiodic_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>This creates a periodic mesh in both x and y that is 10 grid cells by 20 grid
cells in size with 1-km resolution.  The mesh is not save to a file in this
example but is instead returned as an <code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code> object.</p>
<p>The command-line approach for generating the same mesh would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ planar_hex --nx=10 --ny=20 --dc=1000. \
     --outFileName=periodic_mesh_10x20_1km.nc
</pre></div>
</div>
<p>In this case, the resulting mesh is written to a file.</p>
<p>The default is to make a periodic mesh (awkwardly, it’s “not non-periodic”). If
you want a mesh that is not periodic in one or both directions, you first need
to create a mesh and then cull the cells along the periodic boundary.  It
doesn’t hurt to run the mesh converter as well, just to be sure the mesh
conforms correctly to the MPAS mesh specification:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpas_tools.planar_hex</span> <span class="kn">import</span> <span class="n">make_planar_hex_mesh</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.conversion</span> <span class="kn">import</span> <span class="n">cull</span><span class="p">,</span> <span class="n">convert</span>

<span class="n">dsMesh</span> <span class="o">=</span> <span class="n">make_planar_hex_mesh</span><span class="p">(</span><span class="n">nx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ny</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">dc</span><span class="o">=</span><span class="mf">1000.</span><span class="p">,</span> <span class="n">nonperiodic_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                              <span class="n">nonperiodic_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">dsMesh</span> <span class="o">=</span> <span class="n">cull</span><span class="p">(</span><span class="n">dsMesh</span><span class="p">)</span>
<span class="n">dsMesh</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="n">dsMesh</span><span class="p">)</span>
</pre></div>
</div>
<p>On the command line, this looks like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ planar_hex --nx=10 --ny=20 --dc=1000. --npx --npy \
     --outFileName=mesh_to_cull.nc

$ MpasCellCuller.x mesh_to_cull.nc culled_mesh.nc

$ MpasMeshConverter.x culled_mesh.nc nonperiodic_mesh_10x20_1km.nc
</pre></div>
</div>
</section>
<section id="building-a-jigsaw-mesh">
<h2>Building a JIGSAW Mesh<a class="headerlink" href="#building-a-jigsaw-mesh" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="generated/mpas_tools.mesh.creation.build_mesh.html#module-mpas_tools.mesh.creation.build_mesh" title="mpas_tools.mesh.creation.build_mesh"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.build_mesh</span></code></a> module is used
create an MPAS mesh using the <a class="reference external" href="https://github.com/dengwirda/jigsaw">JIGSAW</a>
and <a class="reference external" href="https://github.com/dengwirda/jigsaw-python">JIGSAW-Python (jigsawpy)</a>
packages.</p>
<section id="spherical-meshes">
<h3>Spherical Meshes<a class="headerlink" href="#spherical-meshes" title="Link to this heading"></a></h3>
<p>Spherical meshes are constructed with the function
<a class="reference internal" href="generated/mpas_tools.mesh.creation.build_mesh.build_spherical_mesh.html#mpas_tools.mesh.creation.build_mesh.build_spherical_mesh" title="mpas_tools.mesh.creation.build_mesh.build_spherical_mesh"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.build_mesh.build_spherical_mesh()</span></code></a>.
The user provides a 2D array <code class="docutils literal notranslate"><span class="pre">cellWidth</span></code> of cell sizes in kilometers along
1D arrays for the longitude and latitude (the cell widths must be on a lon/lat
tensor grid) and the radius of the earth in meters.</p>
<p>The result is an MPAS mesh file, called <code class="docutils literal notranslate"><span class="pre">base_mesh.nc</span></code> by default, as well as
several intermediate files: <code class="docutils literal notranslate"><span class="pre">mesh.log</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh-HFUN.msh</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.jig</span></code>,
<code class="docutils literal notranslate"><span class="pre">mesh-MESH.msh</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.msh</span></code>, and <code class="docutils literal notranslate"><span class="pre">mesh_triangles.nc</span></code>.</p>
<p>Here is a simple example script for creating a uniform MPAS mesh with 240-km
resolution:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mpas_tools.ocean</span> <span class="kn">import</span> <span class="n">build_spherical_mesh</span>


<span class="k">def</span> <span class="nf">cellWidthVsLatLon</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create cell width array for this mesh on a regular latitude-longitude grid.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    cellWidth : ndarray</span>
<span class="sd">        m x n array of cell width in km</span>
<span class="sd">    lon : ndarray</span>
<span class="sd">        longitude in degrees (length n and between -180 and 180)</span>
<span class="sd">    lat : ndarray</span>
<span class="sd">        longitude in degrees (length m and between -90 and 90)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dlat</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">dlon</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">constantCellWidth</span> <span class="o">=</span> <span class="mi">240</span>

    <span class="n">nlat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">180</span><span class="o">/</span><span class="n">dlat</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">nlon</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">360</span><span class="o">/</span><span class="n">dlon</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">90.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="n">nlat</span><span class="p">)</span>
    <span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">180.</span><span class="p">,</span> <span class="mf">180.</span><span class="p">,</span> <span class="n">nlon</span><span class="p">)</span>

    <span class="n">cellWidth</span> <span class="o">=</span> <span class="n">constantCellWidth</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">lat</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">lon</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">cellWidth</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">cellWidth</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span> <span class="o">=</span> <span class="n">cellWidthVsLatLon</span><span class="p">()</span>
    <span class="n">build_spherical_mesh</span><span class="p">(</span><span class="n">cellWidth</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">out_filename</span><span class="o">=</span><span class="s1">&#39;base_mesh.nc&#39;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>We define the resolution on a coarse (10 degree by 10 degree) grid because it
is uniform.  Meshes with more complex variation may require higher resolution
grids to cell widths.</p>
</section>
<section id="planar-meshes">
<h3>Planar Meshes<a class="headerlink" href="#planar-meshes" title="Link to this heading"></a></h3>
<p>Planar meshes can be constructed with the function
<a class="reference internal" href="generated/mpas_tools.mesh.creation.build_mesh.build_planar_mesh.html#mpas_tools.mesh.creation.build_mesh.build_planar_mesh" title="mpas_tools.mesh.creation.build_mesh.build_planar_mesh"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.build_mesh.build_planar_mesh()</span></code></a>.  Provide
this function with a 2D array <code class="docutils literal notranslate"><span class="pre">cellWidth</span></code> of cell sizes in kilometers and
1D arrays for x and y (the cell widths must be on a 2D tensor grid).  Planar
meshes also require <code class="docutils literal notranslate"><span class="pre">geom_points</span></code>, a list of point coordinates for bounding
polygon for the planar mesh, and <code class="docutils literal notranslate"><span class="pre">geom_edges</span></code>, a list of edges between points
in <code class="docutils literal notranslate"><span class="pre">geom_points</span></code> that define the bounding polygon.</p>
<p>As for spehrical meshes, the result is an MPAS mesh file, called
<code class="docutils literal notranslate"><span class="pre">base_mesh.nc</span></code> by default, as well as several intermediate files:
<code class="docutils literal notranslate"><span class="pre">mesh.log</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh-HFUN.msh</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.jig</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh-MESH.msh</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh.msh</span></code>,
and <code class="docutils literal notranslate"><span class="pre">mesh_triangles.nc</span></code>.</p>
</section>
<section id="jigsaw-driver">
<h3>JIGSAW Driver<a class="headerlink" href="#jigsaw-driver" title="Link to this heading"></a></h3>
<p>Underlying both spherical and planar mesh creation is the JIGSAW driver
function <a class="reference internal" href="generated/mpas_tools.mesh.creation.jigsaw_driver.jigsaw_driver.html#mpas_tools.mesh.creation.jigsaw_driver.jigsaw_driver" title="mpas_tools.mesh.creation.jigsaw_driver.jigsaw_driver"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.jigsaw_driver.jigsaw_driver()</span></code></a>.  This
function is used to setup data structures and then build a JIGSAW mesh using
<code class="docutils literal notranslate"><span class="pre">jigsawpy</span></code>.</p>
</section>
</section>
<section id="mesh-definition-tools">
<h2>Mesh Definition Tools<a class="headerlink" href="#mesh-definition-tools" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="generated/mpas_tools.mesh.creation.mesh_definition_tools.html#module-mpas_tools.mesh.creation.mesh_definition_tools" title="mpas_tools.mesh.creation.mesh_definition_tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.mesh_definition_tools</span></code></a> module includes
several tools for defining the <code class="docutils literal notranslate"><span class="pre">cellWidth</span></code> variable.</p>
<section id="merging-cell-widths">
<h3>Merging Cell Widths<a class="headerlink" href="#merging-cell-widths" title="Link to this heading"></a></h3>
<p>The function
<a class="reference internal" href="generated/mpas_tools.mesh.creation.mesh_definition_tools.mergeCellWidthVsLat.html#mpas_tools.mesh.creation.mesh_definition_tools.mergeCellWidthVsLat" title="mpas_tools.mesh.creation.mesh_definition_tools.mergeCellWidthVsLat"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.mesh_definition_tools.mergeCellWidthVsLat()</span></code></a>
is used to combine two cell-width distributions that are functions of latitude
only and which asymptote to different constant values north and south of a given
transition latitude with a <code class="docutils literal notranslate"><span class="pre">tanh</span></code> function of a given characteristic width.</p>
<p>For example, the following code snippet will produce cell widths as a function
of latitude of about 30 km south of the Arctic Circle and 10 km north of that
latitude, transitioning over a characteristic “distance” of about 5 degrees.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.creation.mesh_definition_tools</span> <span class="kn">import</span> \
    <span class="n">mergeCellWidthVsLat</span>


<span class="n">lat</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">90.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="mi">181</span><span class="p">)</span>
<span class="n">cellWidthInSouth</span> <span class="o">=</span> <span class="mf">30.</span>
<span class="n">cellWidthInNorth</span> <span class="o">=</span> <span class="mf">10.</span>
<span class="n">latTransition</span> <span class="o">=</span> <span class="mf">66.5</span>
<span class="n">latWidthTransition</span> <span class="o">=</span> <span class="mf">5.</span>

<span class="n">cellWidths</span> <span class="o">=</span> <span class="n">mergeCellWidthVsLat</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">cellWidthInSouth</span><span class="p">,</span> <span class="n">cellWidthInNorth</span><span class="p">,</span>
    <span class="n">latTransition</span><span class="p">,</span> <span class="n">latWidthTransition</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="defining-an-eddy-closure-mesh">
<span id="ec-mesh"></span><h3>Defining an Eddy-closure Mesh<a class="headerlink" href="#defining-an-eddy-closure-mesh" title="Link to this heading"></a></h3>
<p>One of the commonly used flavor of MPAS-Ocean and MPAS-Seaice meshes is designed
with relatively coarse resolution in mind (requiring parameterization of ocean
eddies with an “eddy closure”).  This flavor of mesh has resolution that is
purely a function of latitude, with 5 regions of relatively uniform resolution
(north polar, northern mid-latitudes, equatorial, southern mid-latitudes and
south polar) with smooth (<code class="docutils literal notranslate"><span class="pre">tanh</span></code>) transitions between these resolutions.</p>
<p>The default EC mesh has resolutions of 35 km at the poles, 60 km at
mid-latitudes and 30 km at the equator.  Transitions between equatorial and
mid-latitude regions are at 15 degrees N/S latitude and transitions between
mid-latitude and polar regions are at 73 degrees N/S latitude.  The
transition near the equator is somewhat more abrupt (~6 degrees) than near the
poles (~9 degrees).  The switch between the transitional <code class="docutils literal notranslate"><span class="pre">tanh</span></code> functions is
made at 40 degrees N/S latitude, where the resolution is nearly constant and no
appreciable discontinuity arises.  The default EC mesh can be obtained with the
function
<a class="reference internal" href="generated/mpas_tools.mesh.creation.mesh_definition_tools.EC_CellWidthVsLat.html#mpas_tools.mesh.creation.mesh_definition_tools.EC_CellWidthVsLat" title="mpas_tools.mesh.creation.mesh_definition_tools.EC_CellWidthVsLat"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.mesh_definition_tools.EC_CellWidthVsLat()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.creation.mesh_definition_tools</span> <span class="kn">import</span> \
    <span class="n">EC_CellWidthVsLat</span>

<span class="n">lat</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">90.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="mi">181</span><span class="p">)</span>
<span class="n">cellWidths</span> <span class="o">=</span> <span class="n">EC_CellWidthVsLat</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="defining-a-rossby-radius-mesh">
<span id="rrs-mesh"></span><h3>Defining a Rossby-radius Mesh<a class="headerlink" href="#defining-a-rossby-radius-mesh" title="Link to this heading"></a></h3>
<p>Another common flavor of MPAS-Ocean and MPAS-Seaice meshes is designed for
higher resolutions, where the Rossby radius of deformation can be (at least
partially) resolved.  These meshes approximately scale their resolution in
proportion to the Rossby radius.</p>
<p>A typical Rossby Radius Scaling (RRS) mesh has a resolution at the poles that is
three times finer than the resolution at the equator.  For example, the RRS mesh
used in E3SMv1 high resolution simulations would be defined, using the function
<a class="reference internal" href="generated/mpas_tools.mesh.creation.mesh_definition_tools.RRS_CellWidthVsLat.html#mpas_tools.mesh.creation.mesh_definition_tools.RRS_CellWidthVsLat" title="mpas_tools.mesh.creation.mesh_definition_tools.RRS_CellWidthVsLat"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.mesh_definition_tools.RRS_CellWidthVsLat()</span></code></a>
by:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.creation.mesh_definition_tools</span> <span class="kn">import</span> \
    <span class="n">RRS_CellWidthVsLat</span>

<span class="n">lat</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">90.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="mi">181</span><span class="p">)</span>
<span class="n">cellWidths</span> <span class="o">=</span> <span class="n">RRS_CellWidthVsLat</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">cellWidthEq</span><span class="o">=</span><span class="mf">18.</span><span class="p">,</span> <span class="n">cellWidthPole</span><span class="o">=</span><span class="mf">6.</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="defining-an-atlantic-pacific-mesh">
<h3>Defining an Atlantic/Pacific Mesh<a class="headerlink" href="#defining-an-atlantic-pacific-mesh" title="Link to this heading"></a></h3>
<p>The function
<a class="reference internal" href="generated/mpas_tools.mesh.creation.mesh_definition_tools.AtlanticPacificGrid.html#mpas_tools.mesh.creation.mesh_definition_tools.AtlanticPacificGrid" title="mpas_tools.mesh.creation.mesh_definition_tools.AtlanticPacificGrid"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.mesh_definition_tools.AtlanticPacificGrid()</span></code></a>
can be used to define a mesh that has two different, constant resolutions in the
Atlantic and Pacific Oceans.</p>
</section>
</section>
<section id="signed-distance-functions">
<h2>Signed Distance Functions<a class="headerlink" href="#signed-distance-functions" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="generated/mpas_tools.mesh.creation.signed_distance.html#module-mpas_tools.mesh.creation.signed_distance" title="mpas_tools.mesh.creation.signed_distance"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.signed_distance</span></code></a> module includes several
functions for creating <code class="docutils literal notranslate"><span class="pre">cellWidth</span></code> variables based on the signed distance from
a boundary curve on the sphere.  A signed distance function is positive outside
the bounding shape and negative inside, with a value proportional to the
distance to the nearest point on the curve (so the function is equal to zero on
the curve).  Signed distance functions provide a useful way ot define
transitions in resolution based on complex shapes that can be defined using
<a class="reference external" href="https://geojson.org/">geojson</a> files.  These files can be created by hand,
e.g. at <a class="reference external" href="http://geojson.io/">geojson.io</a> or in python using libraries like
<a class="reference external" href="https://shapely.readthedocs.io/en/stable/index.html">shapely</a>.</p>
<p>Calls to the functions in this module require a
<a class="reference external" href="http://mpas-dev.github.io/geometric_features/stable/feature_collection.html">FeatureCollection</a>
object from the
<a class="reference external" href="http://mpas-dev.github.io/geometric_features/stable/index.html">geometric_features</a>
package.  The <code class="docutils literal notranslate"><span class="pre">FeatureColleciton</span></code> must define one or more regions on the
sphere from which the distance, mask, or signed distance will be computed.
The <code class="docutils literal notranslate"><span class="pre">FeatureColleciton</span></code> could come from the predefined features included in
<code class="docutils literal notranslate"><span class="pre">geometric_features</span></code>, could be read in from a <code class="docutils literal notranslate"><span class="pre">geojson</span></code> file (see
<a class="reference external" href="http://mpas-dev.github.io/geometric_features/stable/feature_collection.html#reading-in-features">Reading in Features</a>),
or could be created as part of a python script with <code class="docutils literal notranslate"><span class="pre">shapely</span></code> or other tools.</p>
<p>In this example, we first define a base resolution using the default EC mesh
(see <a class="reference internal" href="#ec-mesh"><span class="std std-ref">Defining an Eddy-closure Mesh</span></a>) and then use
<a class="reference internal" href="generated/mpas_tools.mesh.creation.signed_distance.signed_distance_from_geojson.html#mpas_tools.mesh.creation.signed_distance.signed_distance_from_geojson" title="mpas_tools.mesh.creation.signed_distance.signed_distance_from_geojson"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.signed_distance.signed_distance_from_geojson()</span></code></a>
to create a signed distance function from a <code class="docutils literal notranslate"><span class="pre">FeatureCollection</span></code> read in from
<a class="reference external" href="https://github.com/MPAS-Dev/MPAS-Model/blob/ocean/develop/testing_and_setup/compass/ocean/global_ocean/SO60to10wISC/init/high_res_region.geojson">this geojson file</a>.
The signed distance function is used to define a region of high resolution (12
km) around Antarctica.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mpas_tools.mesh.creation.mesh_definition_tools</span> <span class="k">as</span> <span class="nn">mdt</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.creation.signed_distance</span> <span class="kn">import</span> \
    <span class="n">signed_distance_from_geojson</span>
<span class="kn">from</span> <span class="nn">geometric_features</span> <span class="kn">import</span> <span class="n">read_feature_collection</span>
<span class="kn">from</span> <span class="nn">mpas_tools.cime.constants</span> <span class="kn">import</span> <span class="n">constants</span>


<span class="n">dlon</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">dlat</span> <span class="o">=</span> <span class="n">dlon</span>
<span class="n">earth_radius</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s1">&#39;SHR_CONST_REARTH&#39;</span><span class="p">]</span>
<span class="n">nlon</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">360.</span><span class="o">/</span><span class="n">dlon</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">nlat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">180.</span><span class="o">/</span><span class="n">dlat</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">180.</span><span class="p">,</span> <span class="mf">180.</span><span class="p">,</span> <span class="n">nlon</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">90.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="n">nlat</span><span class="p">)</span>

<span class="n">cellWidth</span> <span class="o">=</span> <span class="n">mdt</span><span class="o">.</span><span class="n">EC_CellWidthVsLat</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>

<span class="c1"># broadcast cellWidth to 2D</span>
<span class="n">_</span><span class="p">,</span> <span class="n">cellWidth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span> <span class="n">cellWidthVsLat</span><span class="p">)</span>

<span class="c1"># now, add the high-res region</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">read_feature_collection</span><span class="p">(</span><span class="s1">&#39;high_res_region.geojson&#39;</span><span class="p">)</span>

<span class="n">so_signed_distance</span> <span class="o">=</span> <span class="n">signed_distance_from_geojson</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span>
                                                  <span class="n">earth_radius</span><span class="p">,</span>
                                                  <span class="n">max_length</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>

<span class="c1"># Equivalent to 20 degrees latitude</span>
<span class="n">trans_width</span> <span class="o">=</span> <span class="mf">1600e3</span>
<span class="n">trans_start</span> <span class="o">=</span> <span class="o">-</span><span class="mf">500e3</span>
<span class="n">dx_min</span> <span class="o">=</span> <span class="mf">12.</span>

<span class="n">weights</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">tanh</span><span class="p">((</span><span class="n">so_signed_distance</span> <span class="o">-</span> <span class="n">trans_start</span><span class="p">)</span> <span class="o">/</span>
                             <span class="n">trans_width</span><span class="p">))</span>

<span class="n">cellWidth</span> <span class="o">=</span> <span class="n">dx_min</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">weights</span><span class="p">)</span> <span class="o">+</span> <span class="n">cellWidth</span> <span class="o">*</span> <span class="n">weights</span>
</pre></div>
</div>
<p>Sometimes it can be useful to extract just the mask of the region of interest
(defined as <code class="docutils literal notranslate"><span class="pre">0</span></code> outside the the region and <code class="docutils literal notranslate"><span class="pre">1</span></code> inside it) or the unsigned
distance.  For these purposes, use the functions
<a class="reference internal" href="generated/mpas_tools.mesh.creation.signed_distance.mask_from_geojson.html#mpas_tools.mesh.creation.signed_distance.mask_from_geojson" title="mpas_tools.mesh.creation.signed_distance.mask_from_geojson"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.signed_distance.mask_from_geojson()</span></code></a>
and
<a class="reference internal" href="generated/mpas_tools.mesh.creation.signed_distance.distance_from_geojson.html#mpas_tools.mesh.creation.signed_distance.distance_from_geojson" title="mpas_tools.mesh.creation.signed_distance.distance_from_geojson"><code class="xref py py-func docutils literal notranslate"><span class="pre">mpas_tools.mesh.creation.signed_distance.distance_from_geojson()</span></code></a>,
respectively.</p>
<p>The grid does not necessarily have to be uniform in resolution.  Here is a
relatively complicated example where the highest resolution (1/100 degree) of
the lon/lat grid is concentrated within +/- 10 degrees of 0 degrees longitude
and 0 degrees latitude and the resolution is ~2 degrees elsewhere.  The shape
<code class="docutils literal notranslate"><span class="pre">test.geojson</span></code> is given below, and is in the high-res region:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">geometric_features</span> <span class="kn">import</span> <span class="n">read_feature_collection</span>

<span class="kn">from</span> <span class="nn">mpas_tools.cime.constants</span> <span class="kn">import</span> <span class="n">constants</span>
<span class="kn">from</span> <span class="nn">mpas_tools.mesh.creation.signed_distance</span> <span class="kn">import</span> \
    <span class="n">distance_from_geojson</span><span class="p">,</span> <span class="n">mask_from_geojson</span><span class="p">,</span> <span class="n">signed_distance_from_geojson</span>


<span class="k">def</span> <span class="nf">gaussian</span><span class="p">(</span><span class="n">dcoarse</span><span class="p">,</span> <span class="n">dfine</span><span class="p">,</span> <span class="n">cmin</span><span class="p">,</span> <span class="n">cmax</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">iter_count</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_res</span><span class="p">(</span><span class="n">xval</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">dcoarse</span> <span class="o">+</span> \
            <span class="p">(</span><span class="n">dfine</span> <span class="o">-</span> <span class="n">dcoarse</span><span class="p">)</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">xval</span> <span class="o">-</span> <span class="n">center</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span>
                                          <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">width</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">cmin</span><span class="p">]</span>
    <span class="k">while</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">cmax</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">get_res</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iter_count</span><span class="p">):</span>
            <span class="n">x_mid</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">d</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">get_res</span><span class="p">(</span><span class="n">x_mid</span><span class="p">)</span>
        <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span><span class="p">)</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">factor</span> <span class="o">=</span> <span class="p">(</span><span class="n">cmax</span> <span class="o">-</span> <span class="n">cmin</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">cmin</span> <span class="o">+</span> <span class="n">factor</span><span class="o">*</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">x</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">dcoarse</span> <span class="o">=</span> <span class="mf">2.</span>
    <span class="n">dfine</span> <span class="o">=</span> <span class="mf">0.01</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mf">10.</span>

    <span class="n">lon</span> <span class="o">=</span> <span class="n">gaussian</span><span class="p">(</span><span class="n">dcoarse</span><span class="o">=</span><span class="n">dcoarse</span><span class="p">,</span> <span class="n">dfine</span><span class="o">=</span><span class="n">dfine</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=-</span><span class="mf">180.</span><span class="p">,</span> <span class="n">cmax</span><span class="o">=</span><span class="mf">180.</span><span class="p">,</span>
                   <span class="n">center</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>

    <span class="n">lat</span> <span class="o">=</span> <span class="n">gaussian</span><span class="p">(</span><span class="n">dcoarse</span><span class="o">=</span><span class="n">dcoarse</span><span class="p">,</span> <span class="n">dfine</span><span class="o">=</span><span class="n">dfine</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=-</span><span class="mf">90.</span><span class="p">,</span> <span class="n">cmax</span><span class="o">=</span><span class="mf">90.</span><span class="p">,</span>
                   <span class="n">center</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>

    <span class="n">earth_radius</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s1">&#39;SHR_CONST_REARTH&#39;</span><span class="p">]</span>

    <span class="n">fc</span> <span class="o">=</span> <span class="n">read_feature_collection</span><span class="p">(</span><span class="s1">&#39;test.geojson&#39;</span><span class="p">)</span>

    <span class="n">distance</span> <span class="o">=</span> <span class="n">distance_from_geojson</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">earth_radius</span><span class="p">,</span>
                                     <span class="n">max_length</span><span class="o">=</span><span class="n">dfine</span><span class="p">)</span>

    <span class="n">mask</span> <span class="o">=</span> <span class="n">mask_from_geojson</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="n">dfine</span><span class="p">)</span>

    <span class="n">signed_distance</span> <span class="o">=</span> <span class="n">signed_distance_from_geojson</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">earth_radius</span><span class="p">,</span>
                                                   <span class="n">max_length</span><span class="o">=</span><span class="n">dfine</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is <code class="docutils literal notranslate"><span class="pre">test.geojson</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span>
  <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
      <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;weird shape&quot;</span><span class="p">,</span>
        <span class="s2">&quot;component&quot;</span><span class="p">:</span> <span class="s2">&quot;ocean&quot;</span><span class="p">,</span>
        <span class="s2">&quot;object&quot;</span><span class="p">:</span> <span class="s2">&quot;region&quot;</span><span class="p">,</span>
        <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Xylar Asay-Davis&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
        <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="p">[</span>
              <span class="mf">3.8232421875000173</span><span class="p">,</span>
              <span class="mf">3.283113991917228</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">1.5600585937500142</span><span class="p">,</span>
              <span class="mf">3.8752158957336085</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">0.9448242187500171</span><span class="p">,</span>
              <span class="mf">1.8453839885731744</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="o">-</span><span class="mf">0.3186035156249841</span><span class="p">,</span>
              <span class="mf">0.8239462091017558</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">0.6372070312500188</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.37353251022881745</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">2.3181152343750147</span><span class="p">,</span>
              <span class="mf">0.03295898255728466</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">3.636474609375017</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.3405741662837591</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">4.163818359375015</span><span class="p">,</span>
              <span class="mf">1.5159363834516735</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">2.9443359375000164</span><span class="p">,</span>
              <span class="mf">1.9771465537125645</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">3.8232421875000173</span><span class="p">,</span>
              <span class="mf">3.283113991917228</span>
            <span class="p">]</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="MPAS-Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mesh_conversion.html" class="btn btn-neutral float-right" title="Mesh Conversion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright This software is open source software available under the BSD-3license. Copyright (c) 2024 Triad National Security, LLC. All rights reserved. Copyright (c) 2024 Lawrence Livermore National Security, LLC. All rights reserved. Copyright (c) 2024 UT-Battelle, LLC. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: master
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../0.0.2/index.html">0.0.2</a></dd>
      <dd><a href="../0.0.3/index.html">0.0.3</a></dd>
      <dd><a href="../0.0.4/index.html">0.0.4</a></dd>
      <dd><a href="../0.0.5/index.html">0.0.5</a></dd>
      <dd><a href="../0.0.6/index.html">0.0.6</a></dd>
      <dd><a href="../0.0.7/index.html">0.0.7</a></dd>
      <dd><a href="../0.0.8/index.html">0.0.8</a></dd>
      <dd><a href="../0.0.9/index.html">0.0.9</a></dd>
      <dd><a href="../0.1.0/mesh_creation.html">0.1.0</a></dd>
      <dd><a href="../0.10.0/mesh_creation.html">0.10.0</a></dd>
      <dd><a href="../0.11.0/mesh_creation.html">0.11.0</a></dd>
      <dd><a href="../0.12.0/mesh_creation.html">0.12.0</a></dd>
      <dd><a href="../0.13.0/mesh_creation.html">0.13.0</a></dd>
      <dd><a href="../0.14.0/mesh_creation.html">0.14.0</a></dd>
      <dd><a href="../0.15.0/mesh_creation.html">0.15.0</a></dd>
      <dd><a href="../0.16.0/mesh_creation.html">0.16.0</a></dd>
      <dd><a href="../0.17.0/mesh_creation.html">0.17.0</a></dd>
      <dd><a href="../0.18.0/mesh_creation.html">0.18.0</a></dd>
      <dd><a href="../0.19.0/mesh_creation.html">0.19.0</a></dd>
      <dd><a href="../0.2.0/mesh_creation.html">0.2.0</a></dd>
      <dd><a href="../0.2.1/mesh_creation.html">0.2.1</a></dd>
      <dd><a href="../0.20.0/mesh_creation.html">0.20.0</a></dd>
      <dd><a href="../0.21.0/mesh_creation.html">0.21.0</a></dd>
      <dd><a href="../0.22.0/mesh_creation.html">0.22.0</a></dd>
      <dd><a href="../0.23.0/mesh_creation.html">0.23.0</a></dd>
      <dd><a href="../0.24.0/mesh_creation.html">0.24.0</a></dd>
      <dd><a href="../0.25.0/mesh_creation.html">0.25.0</a></dd>
      <dd><a href="../0.26.0/mesh_creation.html">0.26.0</a></dd>
      <dd><a href="../0.27.0/mesh_creation.html">0.27.0</a></dd>
      <dd><a href="../0.28.0/mesh_creation.html">0.28.0</a></dd>
      <dd><a href="../0.29.0/mesh_creation.html">0.29.0</a></dd>
      <dd><a href="../0.3.0/mesh_creation.html">0.3.0</a></dd>
      <dd><a href="../0.30.0/mesh_creation.html">0.30.0</a></dd>
      <dd><a href="../0.31.0/mesh_creation.html">0.31.0</a></dd>
      <dd><a href="../0.32.0/mesh_creation.html">0.32.0</a></dd>
      <dd><a href="../0.33.0/mesh_creation.html">0.33.0</a></dd>
      <dd><a href="../0.34.0/mesh_creation.html">0.34.0</a></dd>
      <dd><a href="../0.34.1/mesh_creation.html">0.34.1</a></dd>
      <dd><a href="../0.35.0/mesh_creation.html">0.35.0</a></dd>
      <dd><a href="../0.36.0/mesh_creation.html">0.36.0</a></dd>
      <dd><a href="../0.4.0/mesh_creation.html">0.4.0</a></dd>
      <dd><a href="../0.5.0/mesh_creation.html">0.5.0</a></dd>
      <dd><a href="../0.5.1/mesh_creation.html">0.5.1</a></dd>
      <dd><a href="../0.6.0/mesh_creation.html">0.6.0</a></dd>
      <dd><a href="../0.7.0/mesh_creation.html">0.7.0</a></dd>
      <dd><a href="../0.8.0/mesh_creation.html">0.8.0</a></dd>
      <dd><a href="../0.9.0/mesh_creation.html">0.9.0</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="mesh_creation.html">master</a></dd>
    </dl>
  </div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>